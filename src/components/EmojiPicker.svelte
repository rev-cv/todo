<script>
// @ts-nocheck
import {createEventDispatcher} from 'svelte';
const dispatch = createEventDispatcher();

let isOpenPicker = false;
export let currentEmoji = "ğŸ¥";

const emoji = {

"Smileys": "ğŸ¤£ ğŸ¥² ğŸ¥¹ ğŸ™‚ ğŸ¥° ğŸ¤ª ğŸ¤¨ ğŸ§ ğŸ¤“ ğŸ¥¸ ğŸ¤© ğŸ¥³ ğŸ™‚â€â†•ï¸ ğŸ˜ ğŸ˜’ ğŸ™‚â€â†”ï¸ ğŸ˜ ğŸ˜” ğŸ˜Ÿ ğŸ˜• ğŸ™ ğŸ˜£ ğŸ˜– ğŸ˜« ğŸ˜© ğŸ¥º ğŸ˜¢ ğŸ˜­ ğŸ˜®â€ğŸ’¨ ğŸ˜¤ ğŸ˜  ğŸ˜¡ ğŸ¤¬ ğŸ¤¯ ğŸ˜³ ğŸ¥µ ğŸ¥¶ ğŸ˜± ğŸ˜¨ ğŸ˜° ğŸ˜¥ ğŸ˜“ ğŸ«£ ğŸ¤— ğŸ«¡ ğŸ¤” ğŸ«¢ ğŸ¤­ ğŸ¤« ğŸ¤¥ ğŸ˜¶ ğŸ˜¶â€ğŸŒ«ï¸ ğŸ˜ ğŸ˜‘ ğŸ˜¬ ğŸ«¨ ğŸ«  ğŸ™„ ğŸ˜¯ ğŸ˜¦ ğŸ˜§ ğŸ˜® ğŸ˜² ğŸ¥± ğŸ˜´ ğŸ¤¤ ğŸ˜ª ğŸ˜µ ğŸ˜µâ€ğŸ’« ğŸ«¥ ğŸ¤ ğŸ¥´ ğŸ¤¢ ğŸ¤® ğŸ¤§ ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ¤‘ ğŸ¤  ğŸ˜ˆ ğŸ‘¿ ğŸ‘¹ ğŸ‘º ğŸ¤¡ ğŸ’© ğŸ‘» ğŸ’€ ğŸ‘½ ğŸ‘¾ ğŸ¤– ğŸƒ".split(' '),


"Gestures and Body Parts": "ğŸ‘‹ ğŸ¤š ğŸ– âœ‹ ğŸ–– ğŸ‘Œ ğŸ¤Œ ğŸ¤ ğŸ¤ ğŸ«° ğŸ¤Ÿ ğŸ¤˜ ğŸ¤™ ğŸ«µ ğŸ«± ğŸ«² ğŸ«¸ ğŸ«· ğŸ«³ ğŸ«´ ğŸ‘ˆ ğŸ‘‰ ğŸ‘† ğŸ–• ğŸ‘‡ ğŸ‘ ğŸ‘ âœŠ ğŸ‘Š ğŸ¤› ğŸ¤œ ğŸ‘ ğŸ«¶ ğŸ™Œ ğŸ‘ ğŸ¤² ğŸ¤ ğŸ™ ğŸ¤³ ğŸ’ª ğŸ¦µ ğŸ¦¶ ğŸ‘£ ğŸ‘‚ ğŸ‘ƒ ğŸ«€ ğŸ« ğŸ§  ğŸ¦· ğŸ¦´ ğŸ‘€ ğŸ‘… ğŸ‘„ ğŸ«¦ ğŸ’‹ ğŸ©¸".split(' '),
"People": "ğŸ‘¶ ğŸ‘§ ğŸ§’ ğŸ‘¦ ğŸ‘© ğŸ§‘ ğŸ‘¨ ğŸ§”â€â™€ï¸ ğŸ§” ğŸ§”â€â™‚ï¸ ğŸ‘µ ğŸ§“ ğŸ‘´ ğŸ‘®â€â™€ï¸ ğŸ‘® ğŸ‘·â€â™€ï¸ ğŸ‘· ğŸ‘©â€âš•ï¸ ğŸ§‘â€âš•ï¸ ğŸ‘©â€ğŸŒ¾ ğŸ§‘â€ğŸŒ¾ ğŸ‘©â€ğŸ³ ğŸ§‘â€ğŸ³ ğŸ‘©â€ğŸ“ ğŸ§‘â€ğŸ“ ğŸ‘©â€ğŸ’» ğŸ§‘â€ğŸ’» ğŸ‘©â€ğŸ’¼ ğŸ§‘â€ğŸ’¼ ğŸ‘© ğŸ§‘ ğŸ‘©â€ğŸ”¬ ğŸ§‘â€ğŸ”¬ ğŸ‘©â€âœˆï¸ ğŸ§‘â€âœˆï¸ ğŸ‘©â€ğŸš€ ğŸ§‘â€ğŸš€ ğŸ‘©â€âš–ï¸ ğŸ§‘â€âš–ï¸ ğŸ‘¸ ğŸ«… ğŸ¥· ğŸ… ğŸ§™â€â™‚ï¸ ğŸ§šâ€â™€ï¸ ğŸ’ƒ ğŸ•º ğŸ—£ ğŸ‘¤ ğŸ‘¥ ğŸ«‚".split(' '),


"Sports and Activities": "âš½ï¸ âš¾ï¸ ğŸ¥ ğŸ€ ğŸ ğŸˆ ğŸ‰ ğŸ¾ ğŸ¥ ğŸ³ ğŸ ğŸ‘ ğŸ’ ğŸ¥ ğŸ“ ğŸ¸ ğŸ¥Š ğŸ¥‹ ğŸ¥… â›³ï¸ â›¸ï¸ ğŸ£ ğŸ¤¿ ğŸ½ ğŸ¿ ğŸ›· ğŸ¥Œ ğŸ¯ ğŸª€ ğŸª ğŸ± ğŸ–ï¸ ğŸ†ï¸ ğŸ… ğŸ¥‡ ğŸ¥ˆ ğŸ¥‰".split(' '),


"Vehicles and Travel": "ğŸ”ï¸ â›°ï¸ ğŸŒ‹ ğŸ—» ğŸ•ï¸ ğŸ–ï¸ ğŸœï¸ ğŸï¸ ğŸŸï¸ ğŸ›ï¸ ğŸ—ï¸ ğŸ§± ğŸª¨ ğŸªµ ğŸ›– ğŸ˜ï¸ ğŸšï¸ ğŸ ï¸ ğŸ¡ ğŸ¢ ğŸ£ ğŸ¤ ğŸ¥ ğŸ¦ ğŸ¨ ğŸ© ğŸª ğŸ« ğŸ¬ ğŸ­ï¸ ğŸ¯ ğŸ° ğŸ’’ ğŸ—¼ ğŸ—½ â›ªï¸ ğŸ•Œ ğŸ›• ğŸ• â›©ï¸ ğŸ•‹ â›²ï¸ â›ºï¸ ğŸŒ ğŸŒƒ ğŸ™ï¸ ğŸŒ„ ğŸŒ… ğŸŒ† ğŸŒ‡ ğŸŒ‰ ğŸ—¾ ğŸï¸ ğŸ  ğŸ¡ ğŸ¢ ğŸ’ˆ ğŸª ğŸš‚ ğŸšƒ ğŸš„ ğŸš… ğŸš† ğŸš‡ï¸ ğŸšˆ ğŸš‰ ğŸšŠ ğŸš ğŸš ğŸš‹ ğŸšŒ ğŸšï¸ ğŸš ğŸš ğŸš‘ï¸ ğŸš’ ğŸš“ ğŸš”ï¸ ğŸš• ğŸš– ğŸš— ğŸš˜ï¸ ğŸš™ ğŸ›» ğŸšš ğŸš› ğŸšœ ğŸï¸ ğŸï¸ ğŸ›µ ğŸ¦½ ğŸ¦¼ ğŸ›º ğŸš²ï¸ ğŸ›´ ğŸ›¹ ğŸ›¼ ğŸš ğŸ›£ï¸ ğŸ›¤ï¸ ğŸ›¢ï¸ â›½ï¸ ğŸš¨ ğŸš¥ ğŸš¦ ğŸ›‘ ğŸš§ âš“ï¸ â›µï¸ ğŸ›¶ ğŸš¤ ğŸ›³ï¸ â›´ï¸ ğŸ›¥ï¸ ğŸš¢ ğŸ›©ï¸ ğŸ›« ğŸ›¬ ğŸª‚ ğŸ’º ğŸš ğŸšŸ ğŸš  ğŸš¡ ğŸ›°ï¸ ğŸš€ ğŸ›¸ ğŸ† ğŸ‡ ğŸ‘ ğŸ—¿".split(' '),


"Objects": "ğŸ›ï¸ ğŸ§³ âŒ›ï¸ â³ï¸ âŒšï¸ â° â±ï¸ â²ï¸ ğŸ•°ï¸ ğŸŒ¡ï¸ ğŸ—ºï¸ ğŸ§­ ğŸƒ ğŸ„ ğŸ§¨ ğŸˆ ğŸ‰ ğŸŠ ğŸ ğŸª­ ğŸ ğŸ ğŸ€ ğŸ ğŸ—ï¸ ğŸŸï¸ ğŸ« ğŸ”® ğŸª„ ğŸ§¿ ğŸ®ï¸ ğŸ•¹ï¸ ğŸ° ğŸ² â™Ÿï¸ ğŸ§© ğŸ§¸ ğŸª… ğŸª† ğŸ–¼ï¸ ğŸ¨ ğŸ§µ ğŸª¡ ğŸ§¶ ğŸª¢ ğŸ‘“ï¸ ğŸ•¶ï¸ ğŸ¥½ ğŸ¥¼ ğŸ¦º ğŸ‘” ğŸ‘• ğŸ‘– ğŸ§£ ğŸ§¤ ğŸ§¥ ğŸ§¦ ğŸ‘— ğŸ‘˜ ğŸ¥» ğŸ©± ğŸ©² ğŸ©³ ğŸ‘™ ğŸ‘š ğŸ‘› ğŸ‘œ ğŸ‘ ğŸ›ï¸ ğŸ’ ğŸ©´ ğŸ‘ ğŸ‘Ÿ ğŸ¥¾ ğŸ¥¿ ğŸ‘  ğŸ‘¡ ğŸ©° ğŸ‘¢ ğŸ‘‘ ğŸ‘’ ğŸ© ğŸ“ï¸ ğŸ§¢ ğŸª– â›‘ï¸ ğŸ“¿ ğŸ’„ ğŸ’ ğŸ’ ğŸ“¢ ğŸ“£ ğŸ“¯ ğŸ™ï¸ ğŸšï¸ ğŸ›ï¸ ğŸ¤ ğŸ§ï¸ ğŸ“»ï¸ ğŸ· ğŸª— ğŸ¸ ğŸ¹ ğŸº ğŸ» ğŸª• ğŸªˆ ğŸª‡ ğŸ¥ ğŸª˜ ğŸª© ğŸ“± ğŸ“² â˜ï¸ ğŸ“ ğŸ“Ÿï¸ ğŸ“  ğŸ”‹ ğŸª« ğŸ”Œ ğŸ’»ï¸ ğŸ–¥ï¸ ğŸ–¨ï¸ âŒ¨ï¸ ğŸ–±ï¸ ğŸ–²ï¸ ğŸ’½ ğŸ’¾ ğŸ’¿ï¸ ğŸ“€ ğŸ§® ğŸ¥ ğŸï¸ ğŸ“½ï¸ ğŸ¬ï¸ ğŸ“ºï¸ ğŸ“·ï¸ ğŸ“¸ ğŸ“¹ï¸ ğŸ“¼ ğŸ”ï¸ ğŸ” ğŸ•¯ï¸ ğŸ’¡ ğŸ”¦ ğŸ® ğŸª” ğŸ“” ğŸ“• ğŸ“– ğŸ“— ğŸ“˜ ğŸ“™ ğŸ“šï¸ ğŸ““ ğŸ“’ ğŸ“ƒ ğŸ“œ ğŸ“„ ğŸ“° ğŸ—ï¸ ğŸ“‘ ğŸ”– ğŸ·ï¸ ğŸ’°ï¸ ğŸª™ ğŸ’´ ğŸ’µ ğŸ’¶ ğŸ’· ğŸ’¸ ğŸ’³ï¸ ğŸªª ğŸ§¾ âœ‰ï¸ ğŸ’Œ ğŸ“§ ğŸ§§ ğŸ“¨ ğŸ“© ğŸ“¤ï¸ ğŸ“¥ï¸ ğŸ“¦ï¸ ğŸ“«ï¸ ğŸ“ªï¸ ğŸ“¬ï¸ ğŸ“­ï¸ ğŸ“® ğŸ—³ï¸ âœï¸ âœ’ï¸ ğŸ–‹ï¸ ğŸ–Šï¸ ğŸ–Œï¸ ğŸ–ï¸ ğŸ“ ğŸ’¼ ğŸ“ ğŸ“‚ ğŸ—‚ï¸ ğŸ“… ğŸ“† ğŸ—’ï¸ ğŸ—“ï¸ ğŸ“‡ ğŸ“ˆ ğŸ“‰ ğŸ“Š ğŸ“‹ï¸ ğŸ“Œ ğŸ“ ğŸ“ ğŸ–‡ï¸ ğŸ“ ğŸ“ âœ‚ï¸ ğŸ—ƒï¸ ğŸ—„ï¸ ğŸ—‘ï¸ ğŸ”’ï¸ ğŸ”“ï¸ ğŸ” ğŸ” ğŸ”‘ ğŸ—ï¸ ğŸ”¨ ğŸª“ â›ï¸ âš’ï¸ ğŸ› ï¸ ğŸ—¡ï¸ âš”ï¸ ğŸ’£ï¸ ğŸ”« ğŸªƒ ğŸ¹ ğŸ›¡ï¸ ğŸªš ğŸ”§ ğŸª› ğŸ”© âš™ï¸ ğŸ—œï¸ âš–ï¸ ğŸ¦¯ ğŸ”— â›“ï¸ ğŸª ğŸ§° ğŸ§² ğŸªœ ğŸ› ğŸ› ğŸ«™ âš—ï¸ ğŸ§ª ğŸ§« ğŸ§¬ ğŸ”¬ ğŸ”­ ğŸ“¡ ğŸ©» ğŸ’‰ ğŸ©¸ ğŸ’Š ğŸ©¹ ğŸ©º ğŸ©¼ ğŸšª ğŸ›— ğŸª ğŸªŸ ğŸ›ï¸ ğŸ›‹ï¸ ğŸª‘ ğŸª¤ ğŸš½ ğŸª  ğŸš¿ ğŸ› ğŸ§¼ ğŸ«§ ğŸª’ ğŸª® ğŸ§´ ğŸ§· ğŸ§¹ ğŸ§º ğŸ§» ğŸª£ ğŸª¥ ğŸ§½ ğŸ§¯ ğŸ›Ÿ ğŸ›’ ğŸš¬ âš°ï¸ ğŸª¦ âš±ï¸ ğŸº ğŸª§ ğŸ•³ï¸".split(' '),


"Symbols": "ğŸ’˜ ğŸ’ ğŸ’– ğŸ’— ğŸ’“ ğŸ’ ğŸ’• ğŸ’Ÿ ğŸ’” ğŸ§¡ ğŸ’› ğŸ’š ğŸ©µ ğŸ’™ ğŸ’œ ğŸ©· ğŸ¤ ğŸ–¤ ğŸ©¶ ğŸ¤ â¤ï¸â€ğŸ”¥ â¤ï¸â€ğŸ©¹ ğŸ’¯ ğŸ’¢ ğŸ’¬ ğŸ‘ï¸â€ğŸ—¨ï¸ ğŸ—¨ï¸ ğŸ’­ ğŸ’¤ğŸŒ€ ğŸŒ ğŸƒ ğŸ€„ï¸ ğŸ´ ğŸ­ï¸ ğŸ”‡ ğŸ”ˆï¸ ğŸ”‰ ğŸ”Š ğŸ”” ğŸ”• ğŸš¸ â›”ï¸ ğŸš« ğŸš³ ğŸš­ï¸ ğŸš¯ ğŸš± ğŸš· ğŸ“µ ğŸ” â“ï¸ â” â• â—ï¸ ğŸ’² â­•ï¸ âŒ ğŸ…°ï¸ ğŸ† ğŸ…±ï¸ ğŸ†‘ ğŸ”´ ğŸŸ  ğŸŸ¡ ğŸŸ¢ ğŸ”µ ğŸŸ£ ğŸŸ¤ âš«ï¸ âšªï¸ ğŸŸ¥ ğŸŸ§ ğŸŸ¨ ğŸŸ© ğŸŸ¦ ğŸŸª ğŸŸ« â¬›ï¸ â¬œï¸".split(' '),


"Clothing and Accessories": "ğŸ§³ ğŸŒ‚ ğŸ§µ ğŸª¡ ğŸª¢ ğŸª­ ğŸ§¶ ğŸ‘“ ğŸ•¶ ğŸ¥½ ğŸ¥¼ ğŸ¦º ğŸ‘” ğŸ‘• ğŸ‘– ğŸ§£ ğŸ§¤ ğŸ§¥ ğŸ§¦ ğŸ‘— ğŸ‘˜ ğŸ¥» ğŸ©´ ğŸ©± ğŸ©² ğŸ©³ ğŸ‘™ ğŸ‘š ğŸ‘› ğŸ‘œ ğŸ‘ ğŸ’ ğŸ‘ ğŸ‘Ÿ ğŸ¥¾ ğŸ¥¿ ğŸ‘  ğŸ‘¡ ğŸ©° ğŸ‘¢ ğŸ‘‘ ğŸ‘’ ğŸ© ğŸ“ ğŸ§¢ ğŸª– ğŸ’„ ğŸ’ ğŸ’¼".split(' '),


"Travel & Places": "ğŸš— ğŸš• ğŸš™ ğŸšŒ ğŸš ğŸ ğŸš“ ğŸš‘ ğŸš’ ğŸš ğŸ›» ğŸšš ğŸš› ğŸšœ ğŸ¦¯ ğŸ¦½ ğŸ¦¼ ğŸ›´ ğŸš² ğŸ›µ ğŸ ğŸ›º ğŸš¨ ğŸš” ğŸš ğŸš˜ ğŸš– ğŸ› ğŸš¡ ğŸš  ğŸšŸ ğŸšƒ ğŸš‹ ğŸš ğŸš ğŸš„ ğŸš… ğŸšˆ ğŸš‚ ğŸš† ğŸš‡ ğŸšŠ ğŸš‰ âœˆï¸ ğŸ›« ğŸ›¬ ğŸ›© ğŸ’º ğŸ›° ğŸš€ ğŸ›¸ ğŸš ğŸ›¶ â›µï¸ ğŸš¤ ğŸ›¥ ğŸ›³ â›´ ğŸš¢ âš“ï¸ ğŸ›Ÿ ğŸª â›½ï¸ ğŸš§ ğŸš¦ ğŸš¥ ğŸš ğŸ—º ğŸ—¿ ğŸ—½ ğŸ—¼ ğŸ° ğŸ¯ ğŸŸ ğŸ¡ ğŸ¢ ğŸ› ğŸ  â›²ï¸ ğŸŒ‹ ğŸ—» â›ºï¸ ğŸ›– ğŸ  ğŸ¡ ğŸ­ ğŸ¢ ğŸ¬ ğŸ£ ğŸ¤ ğŸ¥ ğŸ¦ ğŸ¨ ğŸª ğŸ« ğŸ© ğŸ’’ â›ªï¸ ğŸ•Œ ğŸ• ğŸ›• ğŸ•‹ ğŸ—¾ ğŸ‘ ğŸŒ… ğŸŒ„ ğŸŒ  ğŸ‡ ğŸ† ğŸŒ‡ ğŸŒ† ğŸ™ ğŸŒƒ ğŸŒŒ ğŸŒ‰ ğŸŒ".split(' '),
}

</script>

<div class="widget">
    <button 
        class={isOpenPicker ? "picker-btn active" : "picker-btn"}
        on:click={e => isOpenPicker = !isOpenPicker}
        ><div>{currentEmoji}</div>
    </button>
    {#if isOpenPicker}
        <div class="picker">
            <div class="emojies">
                {#each Object.keys(emoji) as title }
                    <div class="title">{title}</div>
                    {#each emoji[title] as elem }
                        <button
                            on:click={e => {
                                currentEmoji = elem;
                                isOpenPicker = false;
                                dispatch('select', elem)
                            }}
                            >{elem}
                        </button>
                    {/each}
                {/each}
            </div>
        </div>
    {/if}
</div>


<style>

.widget {
    user-select: none;
}

button.picker-btn {
    font-size: 1.6em;
    background-color: transparent;
    position: relative;
    --border-radius: .3em;
    border-radius: var(--border-radius);
    transition: background-color 200ms ;
}

button.picker-btn > div {
    padding: .3em;
    overflow: hidden;
    border-radius: var(--border-radius);
    position: relative;
}

button.picker-btn > div::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    background-color: var(--color-content-C);
    opacity: 0;
    transition: opacity 200ms ;
}

button.picker-btn:hover > div::before {
    opacity: .3;
}

.picker-btn.active {
    border-radius: .3em .3em 0 0;
    background-color: var(--color-block);
}

.picker {
    position: absolute;
    width: 20em;
    height: 20em;
    border-radius: 0 .6em .6em .6em;
    z-index: 10;
    padding: 1em;
    overflow: hidden;
    backdrop-filter: blur(4px);
}

.picker::after {
    content: "";
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--color-block);
    position: absolute;
    z-index: -1;
    opacity: .7;
}

.emojies {
    display: grid;
    grid-template-columns: repeat(auto-fill, 2.2em);
    justify-content: center;
    overflow-y: auto;
    overflow-x: hidden;
    height: 100%;
}

.emojies > button {
    font-size: 1.4em;
    background-color: transparent;
    color: var(--color-content);
}

.emojies > .title {
    grid-column: 1 / -1;
    font-weight: 700;
    padding: 1.6em 0 .5em 0;
}

.active {
    background-color: var(--color-block);
    z-index: 10;
}

.active::before {
    content: "";
    position: absolute;
    width: var(--border-radius);
    height: var(--border-radius);
    background-color: var(--color-block);
    bottom: 0;
    right: calc(var(--border-radius) * -1);
}

.active::after {
    content: "";
    position: absolute;
    width: calc(var(--border-radius) * 2);
    height: calc(var(--border-radius) * 2);
    background-color: var(--color-canvas);
    border-radius: 50%;
    bottom: 0;
    right: calc(var(--border-radius) * -2);
}


</style>


